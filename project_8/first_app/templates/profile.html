{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block body %}
<h1>profile page</h1><br>
<h1>hello {{user}}</h1>

{% if messages %}
    {% for m in messages %}
    
    <p class="bg-success p-3 text-white">{{m}}</p>
    {% endfor %}
    {% endif %}
<br>
<p><a class="btn btn-danger" href="{%url 'passchange'%}">Change your passsword</a></p>
<p><a class="btn btn-warning" href="{%url 'passchange2'%}">Change your passsword without old pass</a></p>

<form method="post" style="width:50%; margin:auto;" novalidate>
     {% csrf_token %}
     {%if form.non_field_errors%}
     {% for er in form.non_field_errors %}
     <p class="bg-danger text-white p-3">{{er}}</p>
     {% endfor %}
     {% endif %}
     <!-- {{form|crispy}} -->
     {%for fm in form%}
     {{fm.label_tag}}
     {{fm}}
     {{fm.errors|striptags}}
     {% endfor %}
     <br>
     <button class="btn btn-warning" type="submit">Change user data</button>
 </form>
{% endblock  %}